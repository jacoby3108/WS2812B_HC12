ANSI-C/cC++ Compiler for HC12 V-5.0.38 Build 9056, Feb 26 2009

    1:  #include "mc9s12xdp512.h"
    2:  
    3:  #include "sci.h"
    4:  #include "cqueue.h"
    5:  
    6:  
    7:  void sendsci(unsigned char tx);
    8:  
    9:  static unsigned char rxdata;               //SCI driver rxdata 
   10:  
   11:  void irq_sci_fsm(void);
   12:  static unsigned char Sci_State;
   13:  enum states {S_ILDE,S_STX,S_DATA};
   14:  
   15:  
   16:  static unsigned char op_status;
   17:  
   18:  static unsigned char msg=0;
   19:  
   20:  
   21:  
   22:  #define  SPYSIZE 50
   23:  unsigned char spy[SPYSIZE];
   24:  unsigned char *pspy;
   25:  unsigned char spycount;
   26:  
   27:  
   28:  
   29:  
   30:  // Driver Init
   31:  
   32:  void Sci_Init(void) {

Function: Sci_Init
Source  : Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources\sci.c
Options : -CPUHCS12X -D__NO_FLOAT__ -Env"GENPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\prm;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\cmd;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\lib;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\src;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources\DP256Reg;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\include" -Env"LIBPATH=C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\include" -Env"OBJPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin" -Env"TEXTPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin" -Lasm=%n.lst -Lasmc= -Ms -Ot -ObjN="Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\CLASE4_C_12X_RTI_Data\RAM\ObjectCode\sci.c.o" -WmsgSd1106

   33:  
   34:  
   35:  
   36:      SCI1BD = 260; // SCI_Baud= BusClk/(16*BD_reg)=9615.38
  0000 cc0104       [2]     LDD   #260
  0003 5c00         [2]     STD   _SCI1BD
   37:      
   38:      SCI1CR1 = 0;   // Set Default Values 8 bit No parity 1 Stop  
  0005 790000       [3]     CLR   _SCI1ACR2
   39:          
   40:  
   41:      //Transmit & Receive Enable
   42:  
   43:      SCI1CR2 |= (SCI1CR2_TE_MASK|SCI1CR2_RE_MASK); 
  0008 4c000c       [4]     BSET  _SCI1CR2,#12
   44:      
   45:      // Rx interrupt enable 
   46:      
   47:      SCI1CR2 |=  SCI1CR2_RIE_MASK; 
  000b 4c0020       [4]     BSET  _SCI1CR2,#32
   48:      
   49:      
   50:      ////
   51:      
   52:      pspy=spy;
   53:      
   54:      spycount=0;
  000e 790000       [3]     CLR   spycount
   55:      while(spycount++<SPYSIZE-1)
  0011 ce0000       [2]     LDX   #spy
  0014 8f           [2]     SKIP2 
   56:      *pspy++=0;
  0015 6930         [2]     CLR   1,X+
  0017 f60000       [3]     LDAB  spycount
  001a 37           [2]     PSHB  
  001b 52           [1]     INCB  
  001c 7b0000       [3]     STAB  spycount
  001f 33           [3]     PULB  
  0020 c131         [1]     CMPB  #49
  0022 25f1         [3/1]   BCS   *-13 ;abs = 0015
   57:      
   58:       pspy=spy;
  0024 180300000000 [5]     MOVW  #spy,pspy
   59:       
   60:      ////
   61:    
   62:  }
  002a 3d           [5]     RTS   
   63:  
   64:  
   65:  // Driver Services
   66:  
   67:  //========================================
   68:  // Sci1_RxStatus() 
   69:  //
   70:  // Returns 1 if one byte has been recieved
   71:  //=========================================
   72:  unsigned char Sci1_RxStatus(void){

Function: Sci1_RxStatus
Source  : Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources\sci.c
Options : -CPUHCS12X -D__NO_FLOAT__ -Env"GENPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\prm;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\cmd;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\lib;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\src;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources\DP256Reg;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\include" -Env"LIBPATH=C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\include" -Env"OBJPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin" -Env"TEXTPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin" -Lasm=%n.lst -Lasmc= -Ms -Ot -ObjN="Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\CLASE4_C_12X_RTI_Data\RAM\ObjectCode\sci.c.o" -WmsgSd1106

   73:    
   74:  
   75:    return (SCI1SR1 & SCI1SR1_RDRF_MASK);
  0000 d600         [3]     LDAB  _SCI1SR1
  0002 c420         [1]     ANDB  #32
   76:  
   77:  }
  0004 3d           [5]     RTS   
   78:  
   79:  //=======================================================
   80:  // Sci1_Putchar(char ) 
   81:  //
   82:  // Sends one byte to the serial Comunication interface 1
   83:  //=======================================================
   84:  void Sci1_Putchar(unsigned char ch) 
   85:  {

Function: Sci1_Putchar
Source  : Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources\sci.c
Options : -CPUHCS12X -D__NO_FLOAT__ -Env"GENPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\prm;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\cmd;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\lib;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\src;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources\DP256Reg;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\include" -Env"LIBPATH=C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\include" -Env"OBJPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin" -Env"TEXTPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin" -Lasm=%n.lst -Lasmc= -Ms -Ot -ObjN="Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\CLASE4_C_12X_RTI_Data\RAM\ObjectCode\sci.c.o" -WmsgSd1106

  0000 37           [2]     PSHB  
   86:  
   87:      while (!(SCI1SR1 & SCI1SR1_TDRE_MASK));
  0001 4f0080fc     [4]     BRCLR _SCI1SR1,#128,*+0 ;abs = 0001
   88:  
   89:      SCI1DRL = ch;
  0005 33           [3]     PULB  
  0006 5b00         [2]     STAB  _SCI1DRL
   90:  
   91:  }
  0008 3d           [5]     RTS   
   92:  
   93:  //=============================================================
   94:  // Sci1_Getchar(char ) 
   95:  //
   96:  // Retrieves one byte from serial Comunication interface 1
   97:  //
   98:  // Note Call Sci1_RxStatus() before calling Sci1_Getchar(char)
   99:  //
  100:  //            if( Sci1_RxStatus() )
  101:  //                    Sci1_Getchar(char); 
  102:  //
  103:  //=============================================================
  104:  
  105:  
  106:  unsigned char Sci1_Gechar(void) 
  107:  
  108:  {

Function: Sci1_Gechar
Source  : Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources\sci.c
Options : -CPUHCS12X -D__NO_FLOAT__ -Env"GENPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\prm;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\cmd;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\lib;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\src;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources\DP256Reg;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\include" -Env"LIBPATH=C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\include" -Env"OBJPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin" -Env"TEXTPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin" -Lasm=%n.lst -Lasmc= -Ms -Ot -ObjN="Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\CLASE4_C_12X_RTI_Data\RAM\ObjectCode\sci.c.o" -WmsgSd1106

  109:  
  110:      while (!(SCI1SR1 & SCI1SR1_RDRF_MASK));
  0000 4f0020fc     [4]     BRCLR _SCI1SR1,#32,*+0 ;abs = 0000
  111:  
  112:      return SCI1DRL;      
  0004 d600         [3]     LDAB  _SCI1DRL
  113:  
  114:  }
  0006 3d           [5]     RTS   
  115:  
  116:  
  117:  // ***********************I*R*Q***S*C*I**********************************//
  118:  
  119:  void interrupt ISR_sci(void) 
  120:  {     

Function: ISR_sci
Source  : Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources\sci.c
Options : -CPUHCS12X -D__NO_FLOAT__ -Env"GENPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\prm;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\cmd;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\lib;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\src;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources\DP256Reg;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\include" -Env"LIBPATH=C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\include" -Env"OBJPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin" -Env"TEXTPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin" -Lasm=%n.lst -Lasmc= -Ms -Ot -ObjN="Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\CLASE4_C_12X_RTI_Data\RAM\ObjectCode\sci.c.o" -WmsgSd1106

  121:  
  122:     char scists;
  123:     
  124:     scists=SCI1SR1;
  0000 d600         [3]     LDAB  _SCI1SR1
  125:     rxdata=SCI1DRL;
  0002 d600         [3]     LDAB  _SCI1DRL
  0004 7b0000       [3]     STAB  rxdata
  126:     
  127:  
  128:  /////////////////
  129:  ////   *pspy++=rxdata;          // OJO !!!! solo para debug sino pisa la memoria
  130:  /////////////////
  131:  
  132:    
  133:   //  TERMIO_PutChar('[');
  134:     TERMIO_PutChar(rxdata);
  0007 160000       [4]     JSR   TERMIO_PutChar
  135:   //  TERMIO_PutChar(']');
  136:     irq_sci_fsm();      
  000a 160000       [4]     JSR   irq_sci_fsm
  137:    
  138:  
  139:  }
  000d 0b           [8]     RTI   
  140:  
  141:  void Reset_FSM(void) {

Function: Reset_FSM
Source  : Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources\sci.c
Options : -CPUHCS12X -D__NO_FLOAT__ -Env"GENPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\prm;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\cmd;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\lib;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\src;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources\DP256Reg;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\include" -Env"LIBPATH=C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\include" -Env"OBJPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin" -Env"TEXTPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin" -Lasm=%n.lst -Lasmc= -Ms -Ot -ObjN="Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\CLASE4_C_12X_RTI_Data\RAM\ObjectCode\sci.c.o" -WmsgSd1106

  142:  
  143:        Sci_State= S_ILDE;
  0000 790000       [3]     CLR   Sci_State
  144:  }
  0003 3d           [5]     RTS   
  145:  
  146:  
  147:  // *******************************************
  148:  // irq_sci_fsm(void) 
  149:  // This FSM implements a basic HDLC protocol
  150:  // *******************************************
  151:  
  152:  void irq_sci_fsm(void)	
  153:  {	

Function: irq_sci_fsm
Source  : Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources\sci.c
Options : -CPUHCS12X -D__NO_FLOAT__ -Env"GENPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\prm;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\cmd;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\lib;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\src;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources\DP256Reg;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\include" -Env"LIBPATH=C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\include" -Env"OBJPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin" -Env"TEXTPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin" -Lasm=%n.lst -Lasmc= -Ms -Ot -ObjN="Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\CLASE4_C_12X_RTI_Data\RAM\ObjectCode\sci.c.o" -WmsgSd1106

  154:  	switch (Sci_State)		// Tiny FSM for SCI reception
  0000 f60000       [3]     LDAB  Sci_State
  0003 c102         [1]     CMPB  #2
  0005 2266         [3/1]   BHI   *+104 ;abs = 006d
  0007 87           [1]     CLRA  
  0008 160000       [4]     JSR   _CASE_CHECKED_BYTE
  000b 03           DC.B  3
  000c 60           DC.B  96
  000d 03           DC.B  3
  000e 17           DC.B  23
  000f 3b           DC.B  59
  155:  	{
  156:  	
  157:  	//**************ILDE State*********************//
  158:  		case S_ILDE:		
  159:  		
  160:  			if(rxdata==ENQ)
  0010 f60000       [3]     LDAB  rxdata
  0013 c105         [1]     CMPB  #5
  0015 2605         [3/1]   BNE   *+7 ;abs = 001c
  161:  				sendsci(ACK);
  0017 c606         [1]     LDAB  #6
  0019 060000       [3]     JMP   sendsci
  162:  			else if(rxdata==STX)
  001c c102         [1]     CMPB  #2
  001e 264d         [3/1]   BNE   *+79 ;abs = 006d
  163:  				Sci_State=S_STX;	
  0020 c601         [1]     LDAB  #1
  0022 2020         [3]     BRA   *+34 ;abs = 0044
  164:  		break;
  165:  	
  166:  		
  167:  	//**************STX State*********************//
  168:  		case S_STX:
  169:  	
  170:  			if(rxdata==ETX)
  0024 f60000       [3]     LDAB  rxdata
  0027 c103         [1]     CMPB  #3
  0029 2611         [3/1]   BNE   *+19 ;abs = 003c
  171:  			{
  172:  							
  173:  //				_printf("SCI FSM: End Of Transmision\n");
  174:  				msg++;
  002b 720000       [4]     INC   msg
  175:  				
  176:  				TERMIO_PutChar('K');
  002e c64b         [1]     LDAB  #75
  0030 160000       [4]     JSR   TERMIO_PutChar
  177:  				sendsci(ACK);
  0033 c606         [1]     LDAB  #6
  0035 160000       [4]     JSR   sendsci
  178:  				op_status=PushQueue(EOT);
  0038 c604         [1]     LDAB  #4
  179:  				Sci_State=S_ILDE;
  180:  				
  181:  			}
  003a 2021         [3]     BRA   *+35 ;abs = 005d
  182:  			else 
  183:  			{
  184:  				
  185:  				op_status=PushQueue(rxdata);
  003c 160000       [4]     JSR   PushQueue
  003f 7b0000       [3]     STAB  op_status
  186:  				Sci_State=S_DATA;
  0042 c602         [1]     LDAB  #2
  0044 7b0000       [3]     STAB  Sci_State
  0047 3d           [5]     RTS   
  187:  			}
  188:  		
  189:  		break;
  190:  		
  191:  //**************DATA State*********************//
  192:  
  193:  		case S_DATA:
  194:  		
  195:  			if(rxdata==ETX)
  0048 f60000       [3]     LDAB  rxdata
  004b c103         [1]     CMPB  #3
  004d 2618         [3/1]   BNE   *+26 ;abs = 0067
  196:  			{
  197:  				
  198:  			
  199:  				
  200:  //				_printf("SCI FSM: End Of message\n");
  201:  				msg++;
  004f 720000       [4]     INC   msg
  202:  				sendsci(ACK);
  0052 c606         [1]     LDAB  #6
  0054 160000       [4]     JSR   sendsci
  203:  ///				
  204:  				TERMIO_PutChar('K');
  0057 c64b         [1]     LDAB  #75
  0059 160000       [4]     JSR   TERMIO_PutChar
  205:  ///				
  206:  				op_status=PushQueue(0x00);
  005c c7           [1]     CLRB  
  005d 160000       [4]     JSR   PushQueue
  0060 7b0000       [3]     STAB  op_status
  207:  				Sci_State=S_ILDE;
  0063 790000       [3]     CLR   Sci_State
  0066 3d           [5]     RTS   
  208:  				
  209:  			}
  210:  			else 
  211:  			{
  212:  				
  213:  				op_status=PushQueue(rxdata);
  0067 160000       [4]     JSR   PushQueue
  006a 7b0000       [3]     STAB  op_status
  214:  				
  215:  			}
  216:  				
  217:  	
  218:  			break;
  219:  	
  220:  		default:
  221:  	
  222:  	  do{
  223:  	  }while(0);   // err       
  224:  	  
  225:   
  226:  //		_printf("SCI FSM: Unexpected Event\n ");
  227:  	
  228:  	
  229:  	}  // end  of Switch
  230:  
  231:  } //end of irq
  006d 3d           [5]     RTS   
  232:  
  233:  //// ************** END FSM ***************************
  234:  
  235:  
  236:  void sendsci(unsigned char tx)
  237:  {

Function: sendsci
Source  : Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources\sci.c
Options : -CPUHCS12X -D__NO_FLOAT__ -Env"GENPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\prm;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\cmd;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\lib;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\src;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources\DP256Reg;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\include" -Env"LIBPATH=C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\include" -Env"OBJPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin" -Env"TEXTPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin" -Lasm=%n.lst -Lasmc= -Ms -Ot -ObjN="Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\CLASE4_C_12X_RTI_Data\RAM\ObjectCode\sci.c.o" -WmsgSd1106

  238:  	
  239:  	Sci1_Putchar(tx); 
  0000 060000       [3]     JMP   Sci1_Putchar
  240:   	
  241:  }
  242:  
  243:  //*******************************************************************
  244:  // new_messages(void)
  245:  // 
  246:  // Returns how many messages 
  247:  // have been received and therefore pending
  248:  //
  249:  // Note A new message is avaiable when the following is recieved 
  250:  // STX Data ETX
  251:  // ******************************************************************
  252:  
  253:  unsigned char new_messages(void)
  254:  {

Function: new_messages
Source  : Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources\sci.c
Options : -CPUHCS12X -D__NO_FLOAT__ -Env"GENPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\prm;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\cmd;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\lib;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\src;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources\DP256Reg;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\include" -Env"LIBPATH=C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\include" -Env"OBJPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin" -Env"TEXTPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin" -Lasm=%n.lst -Lasmc= -Ms -Ot -ObjN="Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\CLASE4_C_12X_RTI_Data\RAM\ObjectCode\sci.c.o" -WmsgSd1106

  255:  
  256:    unsigned char temp;
  257:    
  258:    temp=msg;
  0000 f60000       [3]     LDAB  msg
  0003 6baf         [2]     STAB  1,-SP
  259:    
  260:    if(msg)
  0005 2703         [3/1]   BEQ   *+5 ;abs = 000a
  261:      msg--;
  0007 730000       [4]     DEC   msg
  262:  
  263:    return(temp);
  264:  
  265:  
  266:  }
  000a 1b81         [2]     LEAS  1,SP
  000c 3d           [5]     RTS   
  267:  
  268:  unsigned char messages_count(void)
  269:  {

Function: messages_count
Source  : Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources\sci.c
Options : -CPUHCS12X -D__NO_FLOAT__ -Env"GENPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\prm;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\cmd;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\lib;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\src;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources\DP256Reg;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\include" -Env"LIBPATH=C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\include" -Env"OBJPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin" -Env"TEXTPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin" -Lasm=%n.lst -Lasmc= -Ms -Ot -ObjN="Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\CLASE4_C_12X_RTI_Data\RAM\ObjectCode\sci.c.o" -WmsgSd1106

  270:  
  271:    
  272:  
  273:    return(msg);
  0000 f60000       [3]     LDAB  msg
  274:  
  275:  
  276:  }
  0003 3d           [5]     RTS   
  277:  
  278:  
  279:  
  280:  //====================T E R M I O ===Support for SCI0==========
  281:   
  282:  
  283:  //=============================================================
  284:  // TERMIO_PutChar and  TERMIO_GetChar For SCI0   
  285:  //
  286:  // 
  287:  // Both are the link between SCI0 interface 
  288:  // and the C putchar() and getchar() functions
  289:  //
  290:  //           OJO SCI 0 la del Monitor 
  291:  //=============================================================
  292:  
  293:  
  294:  void TERMIO_PutChar(char ch) 
  295:  
  296:  {

Function: TERMIO_PutChar
Source  : Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources\sci.c
Options : -CPUHCS12X -D__NO_FLOAT__ -Env"GENPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\prm;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\cmd;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\lib;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\src;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources\DP256Reg;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\include" -Env"LIBPATH=C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\include" -Env"OBJPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin" -Env"TEXTPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin" -Lasm=%n.lst -Lasmc= -Ms -Ot -ObjN="Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\CLASE4_C_12X_RTI_Data\RAM\ObjectCode\sci.c.o" -WmsgSd1106

  0000 37           [2]     PSHB  
  297:  
  298:      while (!(SCI0SR1 & SCI0SR1_TDRE_MASK));
  0001 4f0080fc     [4]     BRCLR _SCI0SR1,#128,*+0 ;abs = 0001
  299:  
  300:      SCI0DRL = ch;
  0005 33           [3]     PULB  
  0006 5b00         [2]     STAB  _SCI0DRL
  301:  
  302:  }
  0008 3d           [5]     RTS   
  303:  
  304:  
  305:  
  306:  char TERMIO_GetChar(void) 
  307:  
  308:  {

Function: TERMIO_GetChar
Source  : Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources\sci.c
Options : -CPUHCS12X -D__NO_FLOAT__ -Env"GENPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\prm;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\cmd;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\lib;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\src;Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\Sources\DP256Reg;C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\include" -Env"LIBPATH=C:\Archivos de programa\Freescale\CodeWarrior for S12(X) V5.0\lib\HC12c\include" -Env"OBJPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin" -Env"TEXTPATH=Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\bin" -Lasm=%n.lst -Lasmc= -Ms -Ot -ObjN="Z:\mi home\Documents\RGB LED Strip\HC12\WS2812B_HC12\CLASE4_C_12X_RTI_Data\RAM\ObjectCode\sci.c.o" -WmsgSd1106

  309:  
  310:      while (!(SCI0SR1 & SCI0SR1_RDRF_MASK));
  0000 4f0020fc     [4]     BRCLR _SCI0SR1,#32,*+0 ;abs = 0000
  311:  
  312:      return SCI0DRL;
  0004 d600         [3]     LDAB  _SCI0DRL
  313:  
  314:  }
  0006 3d           [5]     RTS   
